using MakiseSharpServer.Models.Travis;
using Xunit;

namespace MakiseSharpServer.Tests
{
    public class TravisMessageGetTypeShould
    {
        [Theory]
        [InlineData("{\"id\":44096179,\"repository\":{\"id\":2342930,\"name\":\"travisbot\",\"owner_name\":\"Kenstin\",\"url\":null},\"number\":\"93\",\"config\":{\"language\":\"node_js\",\"node_js\":[\"node\"],\"notifications\":{\"email\":false,\"webhooks\":[\"http://13.95.22.78:2138/travisbot\",\"http://requestb.in/va58h4va\",\"http://13.95.22.78/MakiseSharp/TravisWebhook\",\"http://46.22.171.147:2137/travisbot\"]},\"addons\":{\"apt\":{\"packages\":[\"sshpass\"]}},\"before_deploy\":[\"npm install uglify-js -g\"],\"deploy\":{\"skip_cleanup\":true,\"provider\":\"script\",\"script\":\"scripts/deploy.sh\",\"true\":{\"branch\":\"master\"}},\".result\":\"configured\",\"global_env\":[{\"secure\":\"hTSeT+S/Pzqiu0vJvzcZDEe0j1pGm7VobDJS0dD3nfmuGtwt7qdZX3/k2WzPau60REhGAR2k70SCenu++QB8PR+8IXkRJLKc+uFitd/DoyrMY8mKahmFY96R2UH4jeEpp/XguERxjgK9s+0qulLVSDmb4szMci+DD/Ib8NSMMLoy6lgBp5ZJdDUR07OiKoGN52p2WDBGCLzX8ZX+mjpmS6MrBIjmFG6bLJXWbmh2KgTsHTNS4a5lAEeBIZ45OvgeGRpwfzHT4onxmztdNwQS3xZznxcM1/jiyigvJqkfrVHr7YwLls+30RSTmazlDhkTltyJgZSnvnqAPSWLDoglCFWReIynUGoLNJc70PeuCy1ajV7rXGMf0PwfLTyRQeW6B0B/gF8tnUjGLmbvjawqwQLZvS7KNa53rRNQKbUCIpOZf10oVD4yHx9yelK+IP+A7CWwSyHK2Vxv65P8JT2RCYoBJYNpaf8shReQmYpIbNQmkBCA8LSBPCy1xs/OqPpQoUBwpR+wI0xgLrnGRaIWStXlFT2m1Rbvf2rXx/0af/0Bt2pqDwsY8zGQ+n+hAkNay62uirPcnK2gcAJkCQVS3liLIkQP/rDIWji82QwyoysFxMh64I4HrQs0WFCDbjpZALgczAHL720IqaoI15SwDP4ZOEzhF5vclhUnHb9AKV4=\"},{\"secure\":\"B2CJYlgA5Xp7Z2TiB3RkM9kblR/u+e5eOTAelB2PwT62UkH5YpH2ma7bOnjeb41aOx60vVgZltTG/sBn64zzFh5s5uanOb1QKEB+qmLrLpFFA9xC//VcxBwii9qNwnMhPX+aLgHaQyFMVVhG8ieljfAgbQlReGgZA2Dg93p5XeAztESWQZNwbeXLxST4RlNpAMWOKSBsd37clcKvlZov9jWptygIowFVenkatJREtos3nogpss70+1GGhVKjFH9JBFf4nIAaOYUZ/F0iNGpKIu8M2cpsc5+/j9VMhGNnvP1hECd4EjNj/psguqC3zebmSlCDbxV6H0J9mfAX81OtEy0C5KwcAsfOGhhJH/AKSKWZfs8mEXUs8S4BosBoMRHg3ikGOvX22UNVQm7gHZTnyayUjAxvFzDd29riOKlMoIPB2FkFPXDna9Z7xUpMDj9wZ4XsjxkZ5eVImlma0qNTsxSoqzaSNWFfP3YIUzPoX5dg6vP8S/9RzW4tpkIycdjMymbGzH9SbMdzerpQCI4ZKHm1XJmjooVEgJxZd60hToVI7NCoyPnR57I5rhJFDqOg8SNP8fDoDDuCoBcOYYV2txYNZKDkNK7QITzOwd/WimARS9k7OvIHlCbMNiglVbBYuHVivn3OJvKCIIy4lOUbxb4R7mp7lgoZuzIzjLRsWh4=\"},{\"secure\":\"La1t/lQJXDQVrTi1sq4oW9ckoqyM/vlvRJ6FE7EvIruevGps80/hlwoWS0xib+cZg58/KkTwhri9JtqF9586uSMlv9WDqZemTN/AEY8wpiLcesd7Lb54oS+63GGfg/AMMMlDTg+2KLGfjxOMbZ2Pr8yDc1dK4d1XWPsJUYZduWmeVo/85mlLS9OP3EtyNce4dL27zNQkW8QrZumz4aSgIzQ/CoBVy1iWtS45pHfzS6S+bv5bw9mdV58QEBkosyb5s8oTKVSCEFg41uxaP1V9VCCSHG1bR4EkPhx//pA7MKjy7f+38sKY+8c2fdAeX3rUzUzxiIaMB9PlxyFZ9+r0BbLLL4+2QiJYgtYYYzWZoDPgbsAgH4DTdvp0FF2j3rFqvnfPKpso46Qn3nlsj50PsEOkHeGXERDulKXQ91Nj7O+y8kTSnqK53xj+1/G0wwCAqWZIKeb3R2KwMy3ndzhYDejc0+g5vIaADzlHemIRxZoKOVAOPITOe0QmUab68fH4t6OKQah+1GW5egAXzOqbwdAqapXnN63W6y2s+tuMZ5UPgzE8r9Fa9mf9DsykpTjvEE2V88VHu8tldbl6/UMzBzaR7teNk5Rm0seEQA9CIEZ2w/Emgq+CsWQQVSvGoCMWRN08rLjUEMcvWHPU634KlJERz5wROgHUKfY7PcEV/uY=\"},{\"secure\":\"CUgtC04BLlwdIWdx8VzLZui0fP2iiS+fP8ci9DlOldLae9d7B+C+5T3EU37PYWdZBJ/RhUGrpd32tkLCMOqYWjRBqN5sGRkc5zmiZ0SXAHRSz/MBoZdM48C4VWXw3RWuH38aHORB6Nnsdn8ZC4bk6flO2IK2iWxeXNCdHBrUiX+RGvDxPgaEoZCOGgw/rsehEh/YP66lxes7ZE8i7VI4UH+uKAhVdOtMRLkDYwsQGkk0EgF8WbpVUsavHhqGwG3DFInFjbI0b1IlQ6lYJxk8hNEX9PHbN6iEUeVocWJyKL4mQTjbj3p7srW5QiekC/taHOoT8oe/pDx2MnEo9+vC/K9HEuCCweD+I66gYoLq26qV0vsmcr9Txzc3aWFGhYMKm96ZM6BJpqbu76L+oF8tct2tJI1SvUyh1WZc3fghvH/sFkywm7YP6HIovgtzqNszw/Ovs3TLp5JZ7RQQHNk239h4BkID5VoTY/bgmOQHdIDgBd3BiQSGXfHA+IJ5bmnV9hhhzQCGLRhb8p1gm8pShe5N/KlqyI7PoKW5xQbWiXBzHScaY3KRqWICDiSpDVjoX4wxf8qzjKMJx2JoDNB57QGkWkDNPAg4Sk0ayM0pGSxl/QuDY9UT58+puG2Bt40LolvBJ4v0KfzK/Kx4UqQdJ4M+U4Qqatan4XL1iHNAU6M=\"}],\"group\":\"stable\",\"dist\":\"precise\"},\"status\":null,\"result\":null,\"status_message\":\"Canceled\",\"result_message\":\"Canceled\",\"started_at\":null,\"finished_at\":\"2017-04-15T14:58:35Z\",\"duration\":0,\"build_url\":\"https://travis-ci.com/Kenstin/travisbot/builds/44096179\",\"commit_id\":66385863,\"commit\":\"f4d85526a66f22da0241393433a1eabb8de91036\",\"base_commit\":null,\"head_commit\":null,\"branch\":\"master\",\"message\":\"Update .travis.yml\",\"compare_url\":\"https://github.com/Kenstin/travisbot/compare/f03f4598e7f0...f4d85526a66f\",\"committed_at\":\"2017-04-15T14:54:46Z\",\"author_name\":\"Kenstin\",\"author_email\":\"k3nstin@gmail.com\",\"committer_name\":\"GitHub\",\"committer_email\":\"noreply@github.com\",\"matrix\":[{\"id\":72305111,\"repository_id\":2342930,\"parent_id\":44096179,\"number\":\"93.1\",\"state\":\"finished\",\"config\":{\"language\":\"node_js\",\"node_js\":\"node\",\"notifications\":{\"email\":false,\"webhooks\":[\"http://13.95.22.78:2138/travisbot\",\"http://requestb.in/va58h4va\",\"http://13.95.22.78/MakiseSharp/TravisWebhook\",\"http://46.22.171.147:2137/travisbot\"]},\"addons\":{\"apt\":{\"packages\":[\"sshpass\"]},\"deploy\":{\"skip_cleanup\":true,\"provider\":\"script\",\"script\":\"scripts/deploy.sh\",\"true\":{\"branch\":\"master\"}}},\"before_deploy\":[\"npm install uglify-js -g\"],\".result\":\"configured\",\"global_env\":[{\"secure\":\"hTSeT+S/Pzqiu0vJvzcZDEe0j1pGm7VobDJS0dD3nfmuGtwt7qdZX3/k2WzPau60REhGAR2k70SCenu++QB8PR+8IXkRJLKc+uFitd/DoyrMY8mKahmFY96R2UH4jeEpp/XguERxjgK9s+0qulLVSDmb4szMci+DD/Ib8NSMMLoy6lgBp5ZJdDUR07OiKoGN52p2WDBGCLzX8ZX+mjpmS6MrBIjmFG6bLJXWbmh2KgTsHTNS4a5lAEeBIZ45OvgeGRpwfzHT4onxmztdNwQS3xZznxcM1/jiyigvJqkfrVHr7YwLls+30RSTmazlDhkTltyJgZSnvnqAPSWLDoglCFWReIynUGoLNJc70PeuCy1ajV7rXGMf0PwfLTyRQeW6B0B/gF8tnUjGLmbvjawqwQLZvS7KNa53rRNQKbUCIpOZf10oVD4yHx9yelK+IP+A7CWwSyHK2Vxv65P8JT2RCYoBJYNpaf8shReQmYpIbNQmkBCA8LSBPCy1xs/OqPpQoUBwpR+wI0xgLrnGRaIWStXlFT2m1Rbvf2rXx/0af/0Bt2pqDwsY8zGQ+n+hAkNay62uirPcnK2gcAJkCQVS3liLIkQP/rDIWji82QwyoysFxMh64I4HrQs0WFCDbjpZALgczAHL720IqaoI15SwDP4ZOEzhF5vclhUnHb9AKV4=\"},{\"secure\":\"B2CJYlgA5Xp7Z2TiB3RkM9kblR/u+e5eOTAelB2PwT62UkH5YpH2ma7bOnjeb41aOx60vVgZltTG/sBn64zzFh5s5uanOb1QKEB+qmLrLpFFA9xC//VcxBwii9qNwnMhPX+aLgHaQyFMVVhG8ieljfAgbQlReGgZA2Dg93p5XeAztESWQZNwbeXLxST4RlNpAMWOKSBsd37clcKvlZov9jWptygIowFVenkatJREtos3nogpss70+1GGhVKjFH9JBFf4nIAaOYUZ/F0iNGpKIu8M2cpsc5+/j9VMhGNnvP1hECd4EjNj/psguqC3zebmSlCDbxV6H0J9mfAX81OtEy0C5KwcAsfOGhhJH/AKSKWZfs8mEXUs8S4BosBoMRHg3ikGOvX22UNVQm7gHZTnyayUjAxvFzDd29riOKlMoIPB2FkFPXDna9Z7xUpMDj9wZ4XsjxkZ5eVImlma0qNTsxSoqzaSNWFfP3YIUzPoX5dg6vP8S/9RzW4tpkIycdjMymbGzH9SbMdzerpQCI4ZKHm1XJmjooVEgJxZd60hToVI7NCoyPnR57I5rhJFDqOg8SNP8fDoDDuCoBcOYYV2txYNZKDkNK7QITzOwd/WimARS9k7OvIHlCbMNiglVbBYuHVivn3OJvKCIIy4lOUbxb4R7mp7lgoZuzIzjLRsWh4=\"},{\"secure\":\"La1t/lQJXDQVrTi1sq4oW9ckoqyM/vlvRJ6FE7EvIruevGps80/hlwoWS0xib+cZg58/KkTwhri9JtqF9586uSMlv9WDqZemTN/AEY8wpiLcesd7Lb54oS+63GGfg/AMMMlDTg+2KLGfjxOMbZ2Pr8yDc1dK4d1XWPsJUYZduWmeVo/85mlLS9OP3EtyNce4dL27zNQkW8QrZumz4aSgIzQ/CoBVy1iWtS45pHfzS6S+bv5bw9mdV58QEBkosyb5s8oTKVSCEFg41uxaP1V9VCCSHG1bR4EkPhx//pA7MKjy7f+38sKY+8c2fdAeX3rUzUzxiIaMB9PlxyFZ9+r0BbLLL4+2QiJYgtYYYzWZoDPgbsAgH4DTdvp0FF2j3rFqvnfPKpso46Qn3nlsj50PsEOkHeGXERDulKXQ91Nj7O+y8kTSnqK53xj+1/G0wwCAqWZIKeb3R2KwMy3ndzhYDejc0+g5vIaADzlHemIRxZoKOVAOPITOe0QmUab68fH4t6OKQah+1GW5egAXzOqbwdAqapXnN63W6y2s+tuMZ5UPgzE8r9Fa9mf9DsykpTjvEE2V88VHu8tldbl6/UMzBzaR7teNk5Rm0seEQA9CIEZ2w/Emgq+CsWQQVSvGoCMWRN08rLjUEMcvWHPU634KlJERz5wROgHUKfY7PcEV/uY=\"},{\"secure\":\"CUgtC04BLlwdIWdx8VzLZui0fP2iiS+fP8ci9DlOldLae9d7B+C+5T3EU37PYWdZBJ/RhUGrpd32tkLCMOqYWjRBqN5sGRkc5zmiZ0SXAHRSz/MBoZdM48C4VWXw3RWuH38aHORB6Nnsdn8ZC4bk6flO2IK2iWxeXNCdHBrUiX+RGvDxPgaEoZCOGgw/rsehEh/YP66lxes7ZE8i7VI4UH+uKAhVdOtMRLkDYwsQGkk0EgF8WbpVUsavHhqGwG3DFInFjbI0b1IlQ6lYJxk8hNEX9PHbN6iEUeVocWJyKL4mQTjbj3p7srW5QiekC/taHOoT8oe/pDx2MnEo9+vC/K9HEuCCweD+I66gYoLq26qV0vsmcr9Txzc3aWFGhYMKm96ZM6BJpqbu76L+oF8tct2tJI1SvUyh1WZc3fghvH/sFkywm7YP6HIovgtzqNszw/Ovs3TLp5JZ7RQQHNk239h4BkID5VoTY/bgmOQHdIDgBd3BiQSGXfHA+IJ5bmnV9hhhzQCGLRhb8p1gm8pShe5N/KlqyI7PoKW5xQbWiXBzHScaY3KRqWICDiSpDVjoX4wxf8qzjKMJx2JoDNB57QGkWkDNPAg4Sk0ayM0pGSxl/QuDY9UT58+puG2Bt40LolvBJ4v0KfzK/Kx4UqQdJ4M+U4Qqatan4XL1iHNAU6M=\"}],\"group\":\"stable\",\"dist\":\"precise\",\"os\":\"linux\"},\"status\":null,\"result\":null,\"commit\":\"f4d85526a66f22da0241393433a1eabb8de91036\",\"branch\":\"master\",\"message\":\"Update .travis.yml\",\"compare_url\":\"https://github.com/Kenstin/travisbot/compare/f03f4598e7f0...f4d85526a66f\",\"started_at\":null,\"finished_at\":\"2017-04-15T14:58:35Z\",\"committed_at\":\"2017-04-15T14:54:46Z\",\"author_name\":\"Kenstin\",\"author_email\":\"k3nstin@gmail.com\",\"committer_name\":\"GitHub\",\"committer_email\":\"noreply@github.com\",\"allow_failure\":false}],\"type\":\"push\",\"state\":\"canceled\",\"pull_request\":false,\"pull_request_number\":null,\"pull_request_title\":null,\"tag\":null}", TravisType.Com)]
        [InlineData("{\"build_url\": \"https://travis-ci.org/\"}", TravisType.Org)]
        [InlineData("{\"build_url\": \"http://travis-ci.com/\"}", TravisType.Com)]
        public void ReturnCorrectType(string buildurl, TravisType expected)
        {
            Assert.Equal(TravisMessageModel.GetTravisType(buildurl), expected);
        }
    }
}
